function tableToGrid(t,d){jQuery(t).each(function(){if(!this.grid){jQuery(this).width("99%");var t=jQuery(this).width(),e=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),i=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),e=0<e.length,i=!e&&0<i.length,h=e||i,u=[],r=[];jQuery("th",jQuery(this)).each(function(){0===u.length&&h?(u.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),r.push("__selection__")):(u.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),r.push(jQuery(this).html()))});var s,l=[],j=[],n=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var i={},r=0;jQuery("td",jQuery(this)).each(function(){var t,e;0===r&&h?(e=(t=jQuery("input",jQuery(this))).attr("value"),j.push(e||l.length),t.is(":checked")&&n.push(e),i[u[r].name]=t.attr("value")):i[u[r].name]=jQuery(this).html(),r++}),0<r&&l.push(i)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:t,colNames:r,colModel:u,multiselect:e},d||{})),s=0;s<l.length;s++){var y=null;null===(y=0<j.length&&(y=j[s])&&y.replace?encodeURIComponent(y).replace(/[.\-%]/g,"_"):y)&&(y=s+1),jQuery(this).jqGrid("addRowData",y,l[s])}for(s=0;s<n.length;s++)jQuery(this).jqGrid("setSelection",n[s])}})}